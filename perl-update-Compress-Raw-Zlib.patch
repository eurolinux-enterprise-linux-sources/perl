From 04f7935e4a1f448b3032ce7944373388e566a43c Mon Sep 17 00:00:00 2001
From: =?UTF-8?q?Petr=20P=C3=ADsa=C5=99?= <ppisar@redhat.com>
Date: Wed, 5 Jun 2013 16:05:46 +0200
Subject: [PATCH] Upgrade Compress-Raw-Zlib from 2.020 to 2.021

---
 ext/Compress-Raw-Zlib/Changes                  | 5 +++++
 ext/Compress-Raw-Zlib/README                   | 6 +++---
 ext/Compress-Raw-Zlib/config.in                | 0
 ext/Compress-Raw-Zlib/examples/filtdef         | 0
 ext/Compress-Raw-Zlib/examples/filtinf         | 0
 ext/Compress-Raw-Zlib/lib/Compress/Raw/Zlib.pm | 2 +-
 ext/Compress-Raw-Zlib/private/MakeUtil.pm      | 6 +++---
 ext/Compress-Raw-Zlib/t/01version.t            | 0
 ext/Compress-Raw-Zlib/t/02zlib.t               | 0
 ext/Compress-Raw-Zlib/t/07bufsize.t            | 0
 ext/Compress-Raw-Zlib/t/09limitoutput.t        | 0
 ext/Compress-Raw-Zlib/t/18lvalue.t             | 0
 12 files changed, 12 insertions(+), 7 deletions(-)
 mode change 100644 => 100755 ext/Compress-Raw-Zlib/config.in
 mode change 100644 => 100755 ext/Compress-Raw-Zlib/examples/filtdef
 mode change 100644 => 100755 ext/Compress-Raw-Zlib/examples/filtinf
 mode change 100755 => 100644 ext/Compress-Raw-Zlib/t/01version.t
 mode change 100755 => 100644 ext/Compress-Raw-Zlib/t/02zlib.t
 mode change 100755 => 100644 ext/Compress-Raw-Zlib/t/07bufsize.t
 mode change 100755 => 100644 ext/Compress-Raw-Zlib/t/09limitoutput.t
 mode change 100755 => 100644 ext/Compress-Raw-Zlib/t/18lvalue.t

diff --git a/ext/Compress-Raw-Zlib/Changes b/ext/Compress-Raw-Zlib/Changes
index 3fabb3d..891a693 100644
--- a/ext/Compress-Raw-Zlib/Changes
+++ b/ext/Compress-Raw-Zlib/Changes
@@ -1,6 +1,11 @@
 CHANGES
 -------
 
+  2.021 30 August 2009
+
+      * Changed test harness so that it can cope with PERL5OPT=-MCarp=verbose
+        [RT# 47225]
+
   2.020 3 June 2009
 
       * Minor documentation update.
diff --git a/ext/Compress-Raw-Zlib/README b/ext/Compress-Raw-Zlib/README
index 5568c5d..f1387f3 100644
--- a/ext/Compress-Raw-Zlib/README
+++ b/ext/Compress-Raw-Zlib/README
@@ -1,9 +1,9 @@
 
                              Compress-Raw-Zlib
 
-                             Version 2.020
+                             Version 2.021
 
-                               3rd June 2009
+                             30th August 2009
 
        Copyright (c) 2005-2009 Paul Marquess. All rights reserved.
           This program is free software; you can redistribute it
@@ -355,7 +355,7 @@ To help me help you, I need all of the following information:
         If you haven't installed Compress-Raw-Zlib then search Compress::Raw::Zlib.pm
         for a line like this:
 
-          $VERSION = "2.020" ;
+          $VERSION = "2.021" ;
 
      c. The version of zlib you have used.
         If you have successfully installed Compress-Raw-Zlib, this one-liner
diff --git a/ext/Compress-Raw-Zlib/config.in b/ext/Compress-Raw-Zlib/config.in
old mode 100644
new mode 100755
diff --git a/ext/Compress-Raw-Zlib/examples/filtdef b/ext/Compress-Raw-Zlib/examples/filtdef
old mode 100644
new mode 100755
diff --git a/ext/Compress-Raw-Zlib/examples/filtinf b/ext/Compress-Raw-Zlib/examples/filtinf
old mode 100644
new mode 100755
diff --git a/ext/Compress-Raw-Zlib/lib/Compress/Raw/Zlib.pm b/ext/Compress-Raw-Zlib/lib/Compress/Raw/Zlib.pm
index 25394f1..04bfb2e 100644
--- a/ext/Compress-Raw-Zlib/lib/Compress/Raw/Zlib.pm
+++ b/ext/Compress-Raw-Zlib/lib/Compress/Raw/Zlib.pm
@@ -13,7 +13,7 @@ use warnings ;
 use bytes ;
 our ($VERSION, $XS_VERSION, @ISA, @EXPORT, $AUTOLOAD);
 
-$VERSION = '2.020';
+$VERSION = '2.021';
 $XS_VERSION = $VERSION; 
 $VERSION = eval $VERSION;
 
diff --git a/ext/Compress-Raw-Zlib/private/MakeUtil.pm b/ext/Compress-Raw-Zlib/private/MakeUtil.pm
index e595910..47aebd6 100644
--- a/ext/Compress-Raw-Zlib/private/MakeUtil.pm
+++ b/ext/Compress-Raw-Zlib/private/MakeUtil.pm
@@ -58,9 +58,9 @@ sub MY::postamble
 
 MyTrebleCheck:
 	@echo Checking for $$^W in files: '. "@files" . '
-	@perl -ne \'						\
-	    exit 1 if /^\s*local\s*\(\s*\$$\^W\s*\)/;		\
-         \' ' . " @files || " . '				\
+	perl -ne \'						\
+	    exit 1 if /^\s*local\s*\(\s*\$$\^W\s*\)/; \'		\
+         ' . " @files || " . '				\
 	(echo found unexpected $$^W ; exit 1)
 	@echo All is ok.
 
diff --git a/ext/Compress-Raw-Zlib/t/01version.t b/ext/Compress-Raw-Zlib/t/01version.t
old mode 100755
new mode 100644
diff --git a/ext/Compress-Raw-Zlib/t/02zlib.t b/ext/Compress-Raw-Zlib/t/02zlib.t
old mode 100755
new mode 100644
diff --git a/ext/Compress-Raw-Zlib/t/07bufsize.t b/ext/Compress-Raw-Zlib/t/07bufsize.t
old mode 100755
new mode 100644
diff --git a/ext/Compress-Raw-Zlib/t/09limitoutput.t b/ext/Compress-Raw-Zlib/t/09limitoutput.t
old mode 100755
new mode 100644
diff --git a/ext/Compress-Raw-Zlib/t/18lvalue.t b/ext/Compress-Raw-Zlib/t/18lvalue.t
old mode 100755
new mode 100644
-- 
1.8.1.4

